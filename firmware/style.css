/* Updated contrast & tabs */
header.appbar{background:#121a23;border-bottom:1px solid #2a3642}
nav.tabs button{background:#293542;color:var(--muted);border:1px solid #324251}
nav.tabs button:hover{background:#324251;color:var(--text)}
/* Improved active tab contrast */
nav.tabs button.active{
	background:#1976d2; /* fallback high-contrast blue */
	color:#fff;
	border-color:#2196f3;
	box-shadow:0 0 0 1px #64b5f6 inset,0 0 0 2px rgba(25,118,210,.4);
	font-weight:600
}
nav.tabs button:active{transform:translateY(1px)}
button.active, button:focus-visible{outline:2px solid var(--accent);outline-offset:2px;background:#ffb74d;color:#111}
.subtabs button:active{transform:translateY(1px)}
.subtabs{display:flex;flex-wrap:wrap;gap:.4rem;margin:.25rem 0 .75rem}
.subtabs button{background:#1d2731;color:var(--muted);font-size:.7rem;padding:.45em .9em;border:1px solid #2a3642;border-radius:999px}
.subtabs button:hover{background:#25313d;color:var(--text)}
.subtabs button.active{background:#1976d2;color:#fff;border-color:#2196f3;font-weight:600;box-shadow:0 0 0 1px #64b5f6 inset}
.field-row{display:flex;gap:.6rem}
.field.compact{flex:1;min-width:0}
/* Farbpicker deutlicher anzeigen */
label.field input[type=color]{
	padding:0;
	width:56px;
	height:38px;
	border:0;
	background:transparent;
	cursor:pointer;
}
label.field input[type=color]::-webkit-color-swatch-wrapper{padding:0;}
label.field input[type=color]::-webkit-color-swatch{border:2px solid #24303c;border-radius:10px;}
label.field input[type=color]:focus::-webkit-color-swatch{border-color:#ff9800;box-shadow:0 0 0 2px rgba(255,152,0,.4);}
/* Firefox */
label.field input[type=color]::-moz-color-swatch{border:2px solid #24303c;border-radius:10px;}
label.field input[type=color]:focus::-moz-color-swatch{border-color:#ff9800;box-shadow:0 0 0 2px rgba(255,152,0,.4);} 

/* Weekday selector */
.weekday-select{display:flex;flex-wrap:wrap;gap:.4rem}
.weekday-select label.wd{background:#1e2a35;padding:.4em .6em;border:1px solid #304253;border-radius:6px;font-size:.7rem;cursor:pointer;user-select:none;display:flex;align-items:center;gap:.25rem}
.weekday-select label.wd input{margin:0}
.weekday-select label.wd:hover{background:#283744}

/* Event list */
.event-item{display:flex;flex-direction:column;gap:.25rem}
.event-group{display:flex;flex-direction:column;gap:.25rem}
.event-row{display:flex;align-items:center;gap:.75rem;font-size:.8rem;padding:.35rem .5rem;border-bottom:1px solid #25323d}
.event-row:last-child{border-bottom:0}
.event-name{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.event-meta{color:#8899a6;min-width:120px}
.event-actions button{margin-left:.25rem}

/* Mobile responsiveness */
@media (max-width:640px){
	.field-row{flex-direction:column}
	header.appbar h1{font-size:1.1rem}
	nav.tabs{display:flex;flex-wrap:wrap;gap:.4rem}
	nav.tabs button{flex:1 1 auto}
}

/* Color palette swatches */
.color-palette{display:flex;flex-direction:column;gap:.5rem}
.pal-row{display:flex;align-items:center;gap:.4rem;flex-wrap:wrap;background:#1e2a35;padding:.4rem .6rem;border:1px solid #304253;border-radius:8px}
.pal-label{min-width:90px;font-size:.65rem;font-weight:600;letter-spacing:.5px;color:#bbb}
.swatch{width:28px;height:28px;border-radius:6px;border:2px solid #24303c;background:var(--c);cursor:pointer;padding:0}
.swatch.sel{border-color:#ff9800;box-shadow:0 0 0 2px rgba(255,152,0,.4)}
.swatch:focus-visible{outline:2px solid #ff9800;outline-offset:2px}

/* Small palette chooser (mobile) */
.color-chooser{display:flex;align-items:center;flex-wrap:wrap;gap:.35rem}
.color-chooser .swatch-small{width:30px;height:30px;border-radius:8px;border:2px solid #24303c;background:var(--c);padding:0;cursor:pointer}
.color-chooser .swatch-small.sel{border-color:#ff9800;box-shadow:0 0 0 2px rgba(255,152,0,.4)}
.color-chooser .custom-color{width:42px;height:32px;border:0;background:transparent;cursor:pointer}
.color-chooser .custom-color::-webkit-color-swatch{border:2px solid #24303c;border-radius:8px}
.color-chooser .custom-color:focus::-webkit-color-swatch{border-color:#ff9800;box-shadow:0 0 0 2px rgba(255,152,0,.4)}

/* Toasts (ensure visibility) */
.toast-container{position:fixed;bottom:1rem;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;gap:.5rem;z-index:1000;max-width:90%}
.toast{background:#1e2a35;padding:.6rem .9rem;border-radius:8px;font-size:.75rem;box-shadow:0 4px 12px -4px rgba(0,0,0,.6);border:1px solid #304253}
.toast-success{border-color:#2e7d32}
.toast-error{border-color:#c62828}
.toast-warn{border-color:#ff9800}

/* Loading buttons */
button.loading{position:relative;opacity:.7;pointer-events:none}
button.loading:after{content:'‚è≥';font-size:.8em;margin-left:.4em}

/* Key-Value list */
.kv{display:flex;align-items:center;font-size:.75rem;padding:.25rem 0;border-bottom:1px solid #25323d}
.kv:last-child{border-bottom:0}
.kv strong{min-width:110px;font-weight:600;color:#cfd8dc}

/* Modal for Events */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:flex-start;justify-content:center;padding:4vh 1rem;z-index:1200;backdrop-filter:blur(2px)}
.modal{background:#1e2a35;border:1px solid #304253;border-radius:14px;padding:1.1rem 1.25rem;max-width:460px;width:100%;box-shadow:0 10px 32px -8px rgba(0,0,0,.6);animation:popIn .25s ease}
.modal{overflow:auto;-webkit-overflow-scrolling:touch}
.modal pre,.modal code{overflow-x:auto;display:block;-webkit-overflow-scrolling:touch;max-width:100%}
.modal h2{margin:.2rem 0 1rem;font-size:1.05rem}
.modal .actions{display:flex;justify-content:flex-end;gap:.6rem;margin-top:.8rem}
.modal-close{position:absolute;top:.4rem;right:.6rem;background:#25313d;border:1px solid #304253;border-radius:50%;width:34px;height:34px;cursor:pointer;font-size:1.1rem;line-height:1;color:#fff}
.modal-close:hover{background:#2d3a46}
@keyframes popIn{from{transform:translateY(12px) scale(.96);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}

/* Anzeige & Services */
.phrase{font-size:1.4rem;font-weight:600;margin-bottom:.6rem;letter-spacing:.5px}
.tags{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.4rem}
.word-tag{background:var(--col,#333);color:#000;font-weight:600;padding:.35em .65em;border-radius:999px;font-size:.7rem;letter-spacing:.5px;box-shadow:0 2px 6px -2px rgba(0,0,0,.6);text-transform:uppercase}
.word-tag[style*="#000000"]{color:#fff}
.mode-buttons button.mini{background:#293542;color:#fff;border:1px solid #324251;padding:.45em .9em;font-size:.6rem;border-radius:8px;letter-spacing:.5px;text-transform:uppercase;font-weight:600;cursor:pointer;transition:background .15s,border-color .15s}
.mode-buttons button.mini:hover{background:#324251}
.mode-buttons button.mini.active{background:#1976d2;border-color:#2196f3;box-shadow:0 0 0 1px #64b5f6 inset;color:#fff}
.mode-buttons button.mini:active{transform:translateY(1px)}
.btn-info{background:#293542 !important;color:#fff !important;border:1px solid #324251 !important;}
.btn-info:hover{background:#324251 !important}
.btn-add{background:#ff9800 !important;color:#111 !important;border:1px solid #ff9800 !important;font-weight:600;box-shadow:0 0 0 1px rgba(255,152,0,.35) inset}
.btn-add:hover{background:#ffa726 !important;border-color:#ffa726 !important}
.inline-btns{display:flex;gap:.4rem;flex-wrap:wrap}
.inline-btns button.mini{background:#293542;color:#fff;border:1px solid #324251;padding:.45em .9em;font-size:.6rem;border-radius:8px;letter-spacing:.5px;text-transform:uppercase;font-weight:600;cursor:pointer;transition:background .15s,border-color .15s}
.inline-btns button.mini:hover{background:#324251}
.inline-btns button.mini.active{background:#1976d2;border-color:#2196f3;box-shadow:0 0 0 1px #64b5f6 inset;color:#fff}
.inline-btns button.mini:active{transform:translateY(1px)}
.restart-hint{margin-top:12px;padding:12px 14px;border:1px solid #ff9800;background:#1e2a35;border-radius:10px;font-size:.8rem;line-height:1.3;color:#ffe0b3;box-shadow:0 2px 6px -2px rgba(0,0,0,.6)}
.restart-hint strong{color:#ffa726}
.restart-hint button{margin-left:10px;background:#ff9800;color:#111;font-weight:600;border:1px solid #ff9800;padding:.45em .9em;border-radius:8px;cursor:pointer}
.restart-hint button:hover{background:#ffa726;border-color:#ffa726}
.weather-word-row{display:flex;align-items:center;gap:.6rem}
.inline{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.25rem 0}
.status-dot{width:10px;height:10px;border-radius:50%;background:#555;box-shadow:0 0 0 1px #222}
.status-online{background:#2e7d32}
.status-offline{background:#c62828}
.status-unknown{background:#616161}
.muted{opacity:.5;font-size:.7rem}

/* Password field with inline toggle */
.pw-wrap{position:relative;display:flex;align-items:center}
.pw-wrap input{padding-right:44px}
.pw-toggle{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:#25313d;border:1px solid #304253;border-radius:8px;width:34px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;font-size:1rem}
.pw-toggle:hover{background:#2d3a46}
